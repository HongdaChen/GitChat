### 为什么需要任务调度？

任务调度在一个大型计算集群中是非常必要的。

首先它可以完成 **任务的定时执行**
，而且在集群中需要指定特定的节点来完成。以数据仓库为例，数据抽取任务需要在业务数据库节点进行，并且为了不影响业务的正常运行，通常在凌晨定时执行；而数据分析计算，需要在数据仓库节点运行。

其次它可以 **解决任务单元间的依赖关系** ，如数据仓库中的数据处理流程首先是 ETL，然后依次在数据仓库中进行 ODS、DWD、DWS
脚本执行数据处理，最后将数据导出到 ADS 层；这个依赖顺序是需要严格遵守的。使用任务调度系统可以轻松实现。

而且一般任务调度系统会自带可视化界面，使得任务发布、管理更为便捷。

![](https://images.gitbook.cn/8c9fd750-f010-11ea-bc58-d7943dd51ce7)

### 常见任务类型

在数据仓库的计算流程中，常见的有 Shell 脚本、Java 程序、MapReduce 程序、Hive 脚本。

其中 Shell 脚本一般用于启动数据仓库集群的一些组件，如 ETL 采集组件。Java 程序、MapReduce
程序一般用于数据清洗，亦或是实现其它自定义功能。数据仓库的 DDL 任务、数据处理任务，一般会由 SQL 脚本来实现。

任务调度系统支持常见的可执行任务类型，支持任务定时，并且可以自定义任务之间的依赖关系，保证计算逻辑的正常运行。

### 常见任务调度工具

在分布式集群中，主流的调度工具有 Azkaban、Oozie。

它俩的对比如下，可以根据企业的需求来进行选择。

![](https://images.gitbook.cn/a567fce0-f010-11ea-b91c-6d7fbdb6f8f7)

相对于 Oozie 而言，Azkaban 功能更为强大，且易用性更好，在企业选型中更受欢迎。

