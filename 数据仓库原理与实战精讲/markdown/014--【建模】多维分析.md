### OLAP 多维分析

OLAP 主要操作是复杂查询，可以多表关联，使用 COUNT、SUM、AVG 等聚合函数。对于这些复杂查询操作，OLAP
做了直观的定义和分类，将其称为多维分析；其中包括钻取、切片、切块、旋转。

![](https://images.gitbook.cn/024b7b80-f007-11ea-affc-a54214209ff7)

### 钻取

钻取是对维度不同层次的分析，通过改变维度的层次来变换分析的粒度，包括上卷（Roll-up）、下钻（Drill-down）。

**上卷（Roll-up）** ，也称为向上钻取，指从低层次到高层次的切换。

![](https://images.gitbook.cn/22667a00-f007-11ea-9bd3-c1ce0cf88d43)

如图所示，即在查询时，初始条件是驱蚊剂、防晒设备、急救用品，这些都是属于户外防护用品的子集，之后直接查询所有的户外防护用品，称为上卷；维度升到了一个更高的层次。

**下钻（Drill-down）** ，指从高层次到低层次的切换。

同理，初始条件是户外防护用品，之后细分为驱蚊剂、防晒设备、急救用品，这种操作称为下钻；维度降了一个层次。

### 切片（Slice）、切块（Dice）

选择某个维度进行分割，称为 **切片** 。

![](https://images.gitbook.cn/3b8fd260-f007-11ea-a374-77fb7954ed83)

如图所示，数据中包含的时间维度有 2004、2005、2006 三个，单独对 2004 这个维度进行查询，称为切片。

按照多维进行的切片称为 **切块** 。

如图所示，如果对时间维度中的 2004 进行切片后，再对登山设备进行切片，称为切块。

### 旋转（Pivot）

旋转是指对维度方向的互换，类似于交换坐标轴上卷（Roll-up）。

![](https://images.gitbook.cn/e5b0f790-f00e-11ea-a374-77fb7954ed83)

旋转在查询中是指交换维度；如图所示，初始条件是先查询产品类型，然后再对时间进行筛选，对维度进行旋转后可变为先对时间进行筛选，然后再查询产品类型。

### 小结

这节讲了 OLAP 的多维分析，其实就是将复杂查询做了归类，务必掌握这些专业术语的基本含义。

