### 标签云作用

每个文本字段都会对该字段做一个统计，统计出哪种值在这个字段中频繁出现。就商务订单这个索引来说，想要查看不同类别大致的比例不一定非要通过饼状图来查看，也可以在
Discover 界面，点击该字段简单的看一下大致的比例。界面中显示，一共有 45 个商品记录。

这种方式可以让你大致了解一下比例。除了饼状图有没有一种更直白的方式，像客户突出哪个类别是比较多的。有，那就是标签云图，将标签的个数做个统计，然后使用云图的方式展示出来，频率较高的词将会以更显目的方式展示出来。

![image-20191210211320948](https://images.gitbook.cn/2020-04-07-063023.png)

### 制作标签云图

  1. 首先新建一个标签云图

![image-20191210211843725](https://images.gitbook.cn/2020-04-07-063024.png)

  2. 索引选择电子商务
  3. 添加 bucket 选择标记

![image-20191210211947808](https://images.gitbook.cn/2020-04-07-63025.png)

  4. 指标选择标记大小计数
  5. 聚合选择词聚合
  6. 聚合字段选择 category.keyword
  7. 指标选择计数
  8. 排序大小默认是 5，这里更改大一点，我这里随便设置了一个较大的值 1000

![image-20191210212115510](https://images.gitbook.cn/2020-04-07-063025.png)

![image-20191210212749259](https://images.gitbook.cn/2020-04-07-063030.png)

直观上来看，还是女性的商品偏多一点，那么我想知道这些大类里面，哪些商品类别比较热卖，受到消费者的喜爱呢？

**给定需求：** 查看热卖商品类别

  1. 聚合方式选择词聚合
  2. 字段选择 products.product_name.keyword
  3. 排序方式选择计数
  4. 因为商品比较多，这里我只显示前面 50 个标签

![image-20191210213123662](https://images.gitbook.cn/2020-04-07-063031.png)

这个图有什么进一步的应用价值呢？ 我个人认为可以实现热点监控。借助 Kibana，采集网上的新闻，然后分词处理后再存储到
ES，借助这种显示图，可以实时的显示给定一段时间内，哪些是网上新闻讨论的话题，与热点。更进一步的分析处理是，通过像 LDA 主题模型，或者 TF-IDF
的方式，先筛选文本关键词，再存储到 ES。这样更能准确的反映当前或者过去一段时间的新闻主题热度。

### 小结

标签云图的特点是能够显目的将主题表示出来，因此应用非常的广泛。

