### 通配符查询

ES 也支持通配符查询，通配符查询应用不是非常的广泛，但是这也是筛选数据的一种规则，让我们看一下如何在 ES 中使用通配符查询查找筛选数据。

**给定需求：** 查询名字前面有 xiao 的数据，星号表示零个或者多个字符。

    
    
    GET class/_search?q=name:xiao*
    

![image-20200116203905171](https://images.gitbook.cn/2020-04-07-063219.png)

问号表示一个字符，如下查询 xiaohua 这个记录。

    
    
    GET class/_search?q=name:x?aohua
    

![image-20200116210441901](https://images.gitbook.cn/2020-04-07-063220.png)

### 正则表达式查询

正则表达式是文本处理的神器，其强大之处无法用三言两语说明，与通配符查询相比，通配符查询就显得低端了很多。正则表达式的应用，像身份证号码验证、手机号码验证、邮箱验证，以及文本提取等。如下查询带有数字的名称。

    
    
    GET class/_search?q=name.keyword:/ziqi [0-9]{1} deng/
    

![image-20200116211353937](https://images.gitbook.cn/2020-04-07-063221.png)

### 分页查询

相信做过网站的小伙伴经常会遇到一页数据量过多，需要分页查询，ES 也支持分页查询。我们知道 HTTP 请求有 Get 请求与 Post 请求，Get
请求只需要把参数放到 URL 中，像上面查询那样，同时也有 Post 查询，Post 查询是把参数放置到 JSON
中，分页查询是一种高级的查询方法，需要使用 Post 方式的请求才能够在 ES 中查询。

    
    
    POST /class/_search
    {
      "from": 0,
      "size": 2
    }
    

![image-20200116212539328](https://images.gitbook.cn/2020-04-07-63222.png)

### 小结

相信本课时的查询方法已经能够取代传统数据库，任何 SQL 查询语句都可以在 ES
中实现，并且对于分页查询支持得比较完善，因此当做对事务要求不高的简单网站时候，完全可以考虑使用 ES
作为数据库存储，在插入以及查询方面，特别当数据量变得非常大的时候，ES 能够以其优异的表现完胜传统数据库。

