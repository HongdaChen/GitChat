### 添加数据

本章节我们假设电子商务订单是我们采集的业务数据，下面将会以电子商务订单为将要分析的业务数据进行分析可视化。

经过本章节的学习你将能够掌握如何借助 Kibana 工具，对 ES
数据分析聚合可视化。不同的指标数据可视化方法，将会满足你在业务分析中绝大多数需求。值得注意的是，ES 中的数据都是以最常见的 JSON 数据格式存储的。

首先，在打开 Kibana 后，你将看到 Kibana 提供了 3 种样例数据，web 日志，电子商务订单以及航班数据。先在 Kibana
主页中把样例电子商务订单数据添加进去，点击添加数据即可。添加成功之后，就相当于数据已经被采集到 ES 中，ES 运维管理人员已经对 ES
进行了配置，这不是我们目前需要关心的（后面的进阶提高章节将会对这部分介绍。我们需要关系的是如何对已经采集的数据，进行需求分析。

![image-20191118211046841](https://images.gitbook.cn/2020-04-07-63255.png)

### Discover 使用

需求分析第一步：了解数据，查看采集到的电子商务订单数据，点击 Discover 按钮

![image-20191118212809881](https://images.gitbook.cn/2020-04-07-063255.png)

这个界面有 6 个模块需要被关心，这也是以后你最频繁打交道的界面，观察数据分布，数据异常，筛选数据等。

![image-20191118213454038](https://images.gitbook.cn/2020-04-07-063256.png)

  * 模块 1：负责筛选数据，这里你可以写一些简单的 Lucene 查询过滤条件

  * 模块 2：这里可以选择查看过去一段时间内的数据，也就是给数据设置一个时间范围

  * 模块 3：ES 是根据索引来存数据，前面我们添加的数据是电子商务订单，所以选择给定的 kibana _sample_ data_ecommerce 就可以在页面上显示电子商务订单的数据。你也可以理解为切换数据库的操作，根据索引切换的不同的数据库查看不同的数据。

  * 模块 4：就如你看到的一样，是一个以时间片段作为 x 轴，这个时间片段内数据的个数为 Y 轴，但从这个模块你就能得到很多数据的信息，比如说那个时间段数据量较大是不是有异常？或者数据量最大最小是多少，如何设置相应需求的阈值？

  * 模块 5：前面提到过 ES 是以 JSON 数据格式存储数据的，那么这个数据有哪些字段呢？在这个模块你就可以看到。

  * 模块 6：这个模块是实际数据展示的一个区域，这里你可以看到单个数据的指标。选择第一个展开查看：

![image-20191118222113321](https://images.gitbook.cn/2020-04-07-063300.png)

### 小结

读完本课，你应该能够大概的了解一下如何查看某个索引的数据，对 Discover 不同模块有个大致的熟悉。至少你能够知道在哪查看数据，以及存储到 ES
的数据到底长什么样？

