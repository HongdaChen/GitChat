当中国软件业满腔热情地向往“工业化”、“工程化”愿景，美国的制造业却在着眼快速、残酷与不确定的变化。对灵活性、响应性的追求，促成了敏捷在美国的诞生。万里之外的中国，也有一批年轻的
IT 从业者，受困于软件工程不能有效解决他们的实际问题，开始关注到敏捷，并在很短时间里翻译引进了敏捷的主要基础著作。

* * *

为侯捷举办的专家研讨会在《程序员》杂志社的二层小楼里进行。这是 2001 年 10 月，经营着 CSDN 网站和《程序员》杂志的百联美达美公司总共也只有
20 来人，控股的百联集团在位于北京亚运村西侧的利康饭店租了一栋独立的小楼，美达美和另一家公司共同在这里办公。这年夏天，北京成功申办 2008
年奥运会，利康饭店所在的这个位置正是未来奥运村的核心区域。7 年以后，这栋有些老旧的二层小楼将不复存在，在同一地点矗立着的将是被称为“鸟巢”的国家体育场。

第一次参加这种专家研讨会，旁听大家的发言，熊节感到有些费力、又非常兴奋。除了侯捷与孟岩等人围绕 C++
的讨论让他大感兴趣之外，来自上海的王昕带来了一些新鲜的话题。王昕在 CSDN 论坛的账号是
“cber”，平日里在论坛发言相当尖锐，而且每每能跳出技术的框子，从业务和管理的角度给讨论引入一些新的观点。这天他跟熊节聊的话题就不完全是技术性的：

“你听说过 Refactoring 这个东西吗？”

“没有，”熊节连连摇头，“那是个什么来着？”

“是一种写出高质量代码的方法。你之前不是翻译过一系列关于设计模式的文章嘛！你看啊，设计模式社区的思路是，你先想好应该用哪些模式，然后照着模式的实现方式写出来，你的代码就是高内聚低耦合的。但是难就难在‘先想好’对吧？”

熊节点头。如何在开始编码之前先想好应该如何设计，这是他一直感到困难的一个点。之前孟岩与他讨论时曾经提醒他，“尽管当前软件界里几乎所有的人都为设计模式叫好，不过对于软件工程的发展方向，还是有不少批评意见的”。但这些批评意见是什么、对他熟悉的编程工作会产生什么影响，他并不了解。

“简单地说，Refactoring
这种技术，让你可以随时调整代码的结构，”王昕解释道，“把质量不好的代码修改好，在开发的过程中引入设计模式，那么你就不用担心一开始的设计做得不到位，可以一边编码一边完善设计。”

![](https://images.gitbook.cn/34afd700-1319-11e9-8acd-a3133757a028)

“现在国外有一个软件工程流派很重视这个技术，”孟岩也加入到讨论中，“因为有了在开发过程中调整设计的能力，才有可能降低前期设计的投入，不然软件开发的技术含量就必然在前期设计，开发必然不被重视。这个流派叫‘敏捷’，你有空可以看看。”

* * *

### 制造业语境中的敏捷

处于世纪之交时， **中国软件业的主流认为**
：工业化、工程化、对软件研发过程的严格控制、少量精英设计者与大量“软件蓝领”的组合等借鉴自制造业的经验，是软件业发展的方向。恰好在同一时期，美国的工业界对于“制造业本身应该如何发展”
**却有了新的思考** 。

1991 年，在美国国防部的资助下，里海大学亚科卡学院撰写了一份题为《21 世纪美国制造业战略》的报告，对制造业在新千年将遭遇的挑战和应对办法做了
**前瞻性的论述** 。在这篇报告及后续的著作中，这批研究者指出“快速、残酷与不确定的变化”将是未来制造业面对的常态挑战：

>
> 革新的步伐仍在加速，而革新的方向却常常无法预测。产品多样化已经达到了纷繁缭乱的程度，同时，模仿竞争迅速出现并正在影响企业能够获得的利润。变化和不确定性主宰的经营环境发起了挑战。1

制造业所面临的挑战，从生产力不足、无法满足消费者的功能需求，转为灵活性不足、无法满足消费者对创新和定制的要求，这一趋势转变可以上溯至 1970
年代的汽车产业。

**在汽车产业的早期**
，产能不足是制造商的主要挑战。为了提高流水线大生产的效率，制造商努力将生产过程标准化，尽量避免定制。据说亨利·福特曾说过“顾客可以选择任何颜色的车，只要它是黑色的”。

**然而到了1970 年代**
，产能过剩已经成为全球趋势，消费者开始提出各种定制需求：他们不仅想要各种颜色，甚至还想定制汽车的各种配置和配件。在丰田的竞争下，以大规模、标准化为特色的“福特制”生产方法明显地呈现出难以适应以个性化、多样化和快速发展为特点的市场环境。从汽车工业开始，美国的制造业逐渐意识到了市场风向的转变，逐渐转向了重视小批量、灵活性的“后福特制”生产方法2。

**时至 1990 年代**
，科技，尤其是信息技术的发展，以及全球化的深入，日益强化了商业环境的不确定性。全球市场正在从大量市场产品和服务标准化、寿命期长、信息含量少、在一次性交易中交换的竞争环境，向产品和服务个性化、寿命期短、信息含量大、顾客基础不断变化的竞争环境转变。应对这一趋势，研究者们提出的对策是“灵捷”（Agile）：

>
> 灵捷就是关于企业如何在一个动荡的、竞争激烈的经营环境中获得利润。灵捷竞争要求产品和服务的开发、生产和分销以顾客价值为中心……成功的灵捷企业获得大量的对顾客个人认识，并定期地、广泛地与他们交流。
>
>
> 一个成功的灵捷企业，它的生产运营、组织结构、管理思想、人员需求及技术投资都是由这些顾客机会中心型的经营战略所拉动的。在灵捷竞争环境中，并没有组织和运营企业唯一的正确方法。一个成功的灵捷企业必须以这样一种机制来运营，这种机制使企业能够非常快速地合成新的生产能力。
>
>
> [灵捷企业]需要激励人员采取独立的措施并向已有的程序挑战。[灵捷团队]新颖的地方在于管理特权的传统观念逐渐削弱，随之而来的是……开放的信息环境……同时操作员工得到决策权。3

![](https://images.gitbook.cn/e9009920-2551-11e9-aa44-eb3c50edd070)

显然，这种看待制造业前景的视角，与当时的中国人，尤其是中国 IT 人对“制造业”的想象大相径庭。

**在 2001 年前** ，只有少数研究者在关注相关话题，并且关注的视角是如何用 MRP II/ERP 等信息系统来管理敏捷企业4——此时 “Agile”
一词已经普遍地被翻译为“敏捷”。针对敏捷企业动态、开放的组织形态，当时上海交通大学计算机系有一组研究者致力于研究可以根据动态联盟的形成和解体而快速重构和调整的“敏捷供应链”，并提出“基于对象的软件代理技术”作为敏捷企业和敏捷供应链的技术支撑5。

现在回头来看，当时所谓的“软件代理技术”，尽管牵连谈到了人工智能等前沿技术，实际上真正成型的是构建在 CORBA
等中间件之上的一种企业信息集成技术，可以看作是后来更流行的 **SOA（面向服务架构）的一种早期版本**
6。另外，诸如工作流等技术，因其可以加快供应链管理信息系统建设和调整的速度，也被视为敏捷供应链的支撑技术7。

简而言之，在 2001年之前，中国 IT 业内关于“敏捷”一词为数不多的应用， **仅限于制造业的敏捷制造、敏捷供应链、敏捷企业概念，以及支撑这些概念的
IT 系统** 。至于软件本身的研发过程和软件组织的敏捷性，此时尚未进入到行业的视野中。

* * *

“Refactoring 这个词我知道的，”潘加宇说道，“我这里正好有一篇文章想请你翻译一下呢。”

“哦？什么文章？”熊节的好奇心被勾了起来。这是北京理工大学东门外的一家小餐馆，两人一边喝着小酒，一边聊着《程序员》和《非程序员》最近刊登的文章。从夏天开始，熊节连续翻译了十多篇关于设计模式的文章，在潘加宇办的《非程序员》电子杂志上发表。两人熟络起来，潘加宇每次到北京出差就会来理工大学请熊节吃顿饭。

“ Refactoring 是 eXtreme Programming
这种软件开发方法里面的一个实践，”潘加宇接着解释，“最近国外开始流行一类软件开发的方法，叫做 **敏捷** ，这个 eXtreme Programming
就是敏捷方法中的一种，简称 XP。我最近看到一篇文章，是讨论设计模式跟 XP 关系的，你要有兴趣的话，就看看这篇文章呗？”

晚上回到宿舍，熊节上网搜索关于 Refactoring、eXtreme Programming 和“敏捷”相关的资料，很快发现了一个叫 Martin
Fowler 的人：这个大胡子美国人在 1999 年出版了一本题为 _Refactoring_ 的书，好像还挺有影响力的。潘加宇塞过来的那篇文章，也是在谈
Refactoring 技术和设计模式之间的关系。联想到前两天和王昕的讨论，熊节感觉这本书貌似还真挺有意思的。

“正好明天杂志社要开选题会了，要不我就报这个选题好了。”一边这样想着，熊节拿出记事本，潦草地写下一行字：12 期技术专题：Refactoring。

![](https://images.gitbook.cn/6e783580-131a-11e9-b788-6d43e14d3bb3)

* * *

### 中国 IT 业与敏捷的初接触

中国的正式出版物首次刊载与敏捷软件开发相关的内容，是《程序员》杂志 2001 年 12 月刊。这期杂志的“技术专题”栏目用了 5 篇文章、12
页篇幅，较为系统地介绍了 **代码重构** （即 Refactoring）。

这个系列的文章，在当时围绕软件工程的讨论中是别具一格的：一方面，它们讨论的不是用某种特定技术实现某种特定需求，而是软件设计的质量、程序的可理解性和可维护性、开发效率等明显属于软件工程领域的话题；另一方面，这几篇文章开展讨论的角度非常具体、非常细节，5
篇文章中有 3 篇给出了真实的程序代码。

以《重复代码》一文为例，作者石一楹从业内司空见惯的“把一份模板代码拷过去稍加修改”的开发方式为切入点，对于软件开发的 7
项基本原则展开了讨论，指出重复代码是损害软件可理解性和可维护性的重要因素，并用一段 C++ 代码范例说明了如何消除代码中的重复。

当时国内绝大多数软件工程相关的讨论关注的焦点在于流程、文档、架构、工具，与实际的软件开发实践、尤其是编程实践脱离较远。这一系列关于代码重构的文章，为中国
IT 业围绕软件工程的讨论打开了一种新的可能性。这期技术专题的导读如是写道：

> 坚固、灵活、容易维护。每个程序员每天都想得到这样的代码。How to
> ？编程不是盖房子，程序员不是砖瓦匠。你必须在代码中倾注自己的心力，你必须倾听代码的声音，你必须辨别代码的味道，你必须时时留心让你的代码看起来更漂亮……一句话，你必须善待你的代码。而你的努力不会白费，今天受你善待的代码，明天会加倍报答给你——优美的代码足以让你延年益寿了。

可以看到，这几篇文章所代表的软件工程思路，不是将软件的设计与实现分离、用严格的流程约束“软件蓝领”的“工业化”，而是将实际编写代码的程序员视为
**对软件开发效率与质量负责的主要角色** 。

在这种软件工程思路中，程序员所从事的编程工作不是由详细的设计和流程框定的、几乎不需要思考的、“高中生经过短期培训就可以干”的“蓝领工作”，而是软件生产过程中各种质量和效率诉求最终的承担者，因而是需要“倾注心力”的、高技能含量的工作，并且有一整套不同于传统软件工程的流程、技能和工具（重构就是其中的一种）与之配套。这种软件工程思路，就是被称为
**极限编程** （eXtreme Programming）的软件开发方法。

![](https://images.gitbook.cn/0d894c50-131a-11e9-abc2-a9701a61d30b)

在同一时期，另一些与极限编程相关的内容开始出现在中文互联网上。2001 年 10 月，IBM developerWorks
网站发表了厦门国际银行项目经理林星关于需求分析的文章，文中介绍了极限编程（当时林星将其译为“极端编程”）的 **核心价值观** ：沟通、简单、反馈、勇气8。

同样在 2001 年 12 月，浙江大学灵峰科技开发公司技术总监石一楹在 developerWorks 网站发表了 “Refactoring
Patterns” 系列文章9，从较高层面概要介绍了 **重构技术的原理和实践原则** 。

除了重构以外，石一楹在文章提到的测试先行、结对编程等，都是极限编程的标志性实践。《非程序员》电子杂志于 2001 年 12 月邀请极限编程的创始人之一
Kent Beck 进行了在线交流10，又在 2002 年 1 月与 Martin Fowler 进行了在线交流11。

在这些文献资料中， **《非程序员》与 Kent Beck 的在线交流显得尤为有趣** 。发生在聊天室中、氛围轻松随意的交流，加上 Beck
直接犀利的言论（相比之下，Fowler 在交流中就显得更加字斟句酌、四平八稳），让这段文字记录成了一面镜子，清晰地映照出当时业界的情景。

Beck 在交流中提到，当时在极限编程的邮件列表中提及过 100 多个真实项目，他猜测全世界使用极限编程的软件项目不超过 1000 个。当时全世界有大约
20 个区域性的极限编程兴趣团体，主要在美国和欧洲，中国没有这样的团体。作为 1996 年才被发明出来、1999
年才有第一本著作的一种新的软件开发方法学，这个水平的热度并不意外。

Beck 对于极限编程的前景表达了 **谨慎的乐观态度** 。网友在交流中提到，众多主流的企业里，管理者们更倾向于使用重型的软件工程方法（例如 CMM
），因为这是更安全的选择。Beck 表示他相信，未来的软件组织会以频繁交付可工作的软件——而非严格定义的交付过程——作为关键的考核指标。

他期望 “50 年之内，许多极限编程实践被当做’只是以正确的方式做事情’接受”，这些实践包括了测试先行、重构、快速迭代交付、全功能团队等。由 “50
年”这个随口说出的数字来看，即使 Beck 自己，对于极限编程的传播也没有太多信心。

### 参考文献

1 （美）史蒂文·L.戈德曼（Steven L.Goldman）等著,杨开峰等译.灵捷竞争者与虚拟组织[M].辽宁教育出版社,1998:3.  
￼2 刘刚.后福特制[M].中国财政经济出版社,2010.  
￼3 （美）史蒂文·L.戈德曼（Steven L.Goldman）等著,杨开峰等译.灵捷竞争者与虚拟组织[M].辽宁教育出版社,1998:4.  
4 张旭.敏捷企业与敏捷的管理信息系统[J].中国计算机用户,1997(13):6-8.  
￼5 段永强,张申生,高国军.基于对象的软件代理的设计和实现[J].计算机工程,2000(05):21-22+25.  
￼6 段永强,张申生,高国军.基于代理的软件设计和软件重用[J].计算机工程,2000(01):43-45.  
￼7 刘建勋,张申生.工作流技术支持的敏捷供应链管理系统研究[J].计算机工程,2001(03):11-12+153.  
￼8 [林星.需求分析-软件和需求的实践](http://www.yq1012.com/xuexijiqiao/3292.html)[EB/OL].  
￼9 [石一楹.refactoring
Patterns:第一部分](https://web.archive.org/web/20020105084415/http://www-900.ibm.com/developerWorks/java/l-refactory/part1/index.shtml)[EB/OL].  
￼10 《非程序员》第9期，Kent Beck：只是一种正确做事的方法  
￼11 《非程序员》第10期，Martin Fowler访谈

![](https://images.gitbook.cn/6b1efb60-3527-11e9-a761-b7bf869e8cf5)

分享上面的《敏捷中国史》阅读卡片，跟朋友一起了解中国软件开发方法的进化和一代程序员自我突破的故事。

